---
title: "Lab 4"
author: "Shan He, Joanna Huang, Tiffany Jaya"
date: "18 December 2017"
output: pdf_document
---

# Introduction

The purpose of this report is to generate policy suggestions based on our understanding of the determinants of crime in North Carolina in 1987. We will list out the limitations of our analysis, including any estimates that suffer from endogeneity bias. 

# Exploratory Data Analysis

```{r}
# load the data
data <- read.csv("crime.csv")
# verify that it only contains data from 1987
unique(data$year)
# list number of counties
c(nrow(data))
# list number of western, central, and urban counties
c(sum(data$west == 1), sum(data$central == 1), sum(data$urban == 1))
# list number of western & urban counties and central & urban counties
c(sum(data$west == 1 & data$urban == 1), sum(data$central == 1 & data$urban == 1))
# verify number of missing values
colSums(sapply(data, is.na))
```

The dataset contains 90 counties from North Carolina, all of which is collected in 1987. Out of the 90 counties, 21 are from western NC (out of which 1 is also urban), 34 are from central NC (out of which 5 is also urban), and 8 are considered urban counties. There are no missing values which will make our analysis easier. 

## Variable Selection 

```{r}
# perform stepwise selection both forward and backward
library(MASS)
m.all <- lm(crmrte ~ )
```

```{r}
# perform all-subsets regression
library(leaps)
leaps <- regsubsets(crmrte ~ )
```

